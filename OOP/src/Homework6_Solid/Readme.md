# Семинар 6
Задача 1 этапа:

Разработать "мессенджер". Нужен следующий функционал:
- различные виды пользователей: обычный user, админ, модератор и тд. 
- Наделить пользователей различными ролями
- различные хранилища: сообщения, пользователи и тд
- продумать модель сообщений: дата отправки, возможность редактирования, 
возможность удаления, дата обновления сообщения

Дополнительно:
- поиск по сообщениям
- проявить фантазию и добавить свой функционал)

Задача 2 этапа:
Рефакторинг и\или оптимизация проекта предыдущего дз с учетом теоретических основ SOLID’а


SOLID

1) Single Responsibility Principle (Принцип единственной ответственности).
- Класс Controller c 9 функциями разбил на разные классы (пакет Controller)
3) Open Closed Principle (Принцип открытости/закрытости).
- не нашёл где использовать
4) Liskov’s Substitution Principle (Принцип подстановки Барбары Лисков).
- не нашёл где использовать
5) Interface Segregation Principle (Принцип разделения интерфейса).
- не нашёл где использовать
7) Dependency Inversion Principle (Принцип инверсии зависимостей).
- MessageRepository в Controller вызывается через интерфейс Repository

# Семинар 7
1) описание наличие проблемы в коде
2) подготовить документацию по проекту (сделать так, чтобы проект мог понять кто-то кроме вас [можно подключать коллег])
3) написать идеи по улучшению кода если это возможно (рефакторинг)
4) написать идеи по улучшению кода если это возможно (оптимизация)

### Проблемы в коде
нет критичных проблем
### Документация

Это программа демонстрирует работу чата. 

- Класс App содержит main, в котором прописаны 4 пользователя с разными правами и заданы исходные сообщения чата для примера. App вызывает метод run из Controller 
- Класс Controller описывает метод run - метод зациклен и позволяет вызывать бесконечно меню и далее методы по выбору пользователя. Все классы с методами находятся в пакете Controller 
- Класс Message описывает сообщение с атрибутами: текст, время создания, автор, редактор, время обновления, метка удаления.
- Класс MessageRepository описывает методы по взаимодействию с базой данных сообщений
- Класс Database описывает базу данных сообщений
- Класс AbstractUser и его наследники описывают пользователей. Права пользователей прописаны в enum AccessRights. 
- Класс ShowChat описывает метод выведения в консоль всей переписки
- Класс FormattedTime описывает метод, возвращающий текущее время в удобном формате

- Класс ActionMenu описывает метод actionMenu, который предлагает пользователю выбор действия:

1 - Новое сообщение в беседе  
2 - Редактировать последнее сообщение (Автор, Moderator and Admin)  
3 - Удалить сообщение (only Admin)  
4 - Поиск по сообщениям  
  
- Операция 1 вызывает метод newMessage из класса WriteMessage. Пользователь вводит сообщение и далее оно записывается в БД как новый объект Message через метод enterNewMessage класса MessageRepository
- Операция 2 позволяет редактировать последнее сообщение в чате. Пользователь вводит обновлённое сообщение и далее оно перезаписывает последнее сообщение в БД через метод editLastMessage из класса MessageRepository 
- Операция 3 позволяет админу удалить любое сообщение в чате. Выводится час с id сообщений, админ вводит номер, подтверждает операцию и сообщение отражается как удалённое. Метод использует функционал редактирования сообщения, описанный выше. При этом сообщение не удаляется из базы данных, но ему присваивается метка удаления (см. метод ToString в классе Message) и в чате оно отображается как удалённое  
- Операция 4 позволяет найти искомое сочетание в переписке. Чувствительно к регистру. Вызывается метод findMessage класса MessageRepository.

### Идеи рефакторинга
- объединить файлы классов и интерфейсов в пакеты по назначению (MVC)
- Разбить Controller на отдельные классы
- Выделить функционал прохода по БД итератором в отдельный метод

### Идеи оптимизации
Доработать функционал:
* Добавить обработку исключений при введении данных от пользователя
* Изменить присвоение прав пользователям. Назначить права в классах, а не в экземплярах

Внести в код исправления по замечаниям наставника:
* В некоторых классах поля имеют дефолтный модификатор доступа. Надо это исправить
* MessageRepository. не нравится мне, что логика завязна на переменной isFound. Можно найти более дуачное решение
* Советую не оставлять закомментированный код
* Если метод больше 20 строк. Советую разбить его на более мелкие методы
* Очень много местами пустых линий. Надо более внимательно относиться к форматированию кода